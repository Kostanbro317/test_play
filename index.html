
<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<link rel="stylesheet" type="text/css" href="style.css">
<title>–ú—ñ–Ω—ñ–≥—Ä–∞</title>
</head>

<body>
<div class="casino">
	<div id="balance"></div>
	<div id="result">–ù–∞–∂–º—ñ—Ç—å –≥—Ä–∞—Ç–∏</div>
	<button id="playBtn">–ì—Ä–∞—Ç–∏</button>
</div>

<div id="circle"></div>

<script>
	// ----- –ë–ê–õ–ê–ù–° -----
	let balance;
	const savedBalance = localStorage.getItem("balance");

	if (savedBalance === null || isNaN(Number(savedBalance))) {
		balance = 100;
		localStorage.setItem("balance", balance);
	} else {
		balance = Number(savedBalance);
	}

	const balanceEl = document.getElementById("balance");
	const resultEl = document.getElementById("result");

	function updateBalance() {
		balanceEl.textContent = "üí∞ –ë–∞–ª–∞–Ω—Å: " + balance;
	}
	updateBalance();

	// ----- –û–°–ù–û–í–ù–ê –ì–†–ê -----
	const GAME_COST = 10;
	const WIN_CHANCE = 0.1;
	const WIN_REWARD = 100;

	document.getElementById("playBtn").onclick = () => {
		if (balance < GAME_COST) {
			resultEl.textContent = "–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ—à—Ç—ñ–≤!";
			return;
		}

		balance -= GAME_COST;

		if (Math.random() < WIN_CHANCE) {
			balance += WIN_REWARD;
			resultEl.textContent = "WIN!!!";
		} else {
			resultEl.textContent = "LOSE!!!";
		}

		localStorage.setItem("balance", balance);
		updateBalance();
	};

	// ----- –ú–Ü–ù–Ü–ì–†–ê –ó –ö–†–£–ì–û–ú -----
	const circle = document.getElementById("circle");
	let x = 100, y = 100, dx = 2, dy = 1.5;
	let circleActive = true;

	function moveCircle() {
		const rect = circle.getBoundingClientRect();

		x += dx;
		y += dy;

		const maxX = document.documentElement.clientWidth - rect.width;
		const maxY = document.documentElement.clientHeight - rect.height;

		if (x <= 0) {
			x = 0;
			dx *= -1;
		}
		if (x >= maxX) {
			x = maxX;
			dx *= -1;
		}
		if (y <= 0) {
			y = 0;
			dy *= -1;
		}
		if (y >= maxY) {
			y = maxY;
			dy *= -1;
		}

		circle.style.left = x + "px";
		circle.style.top = y + "px";
	}

	setInterval(moveCircle, 16); // ~60 FPS

	function hitCircle(e) {
		if (!circleActive) return;
		e.preventDefault();

		circleActive = false;
		balance += 10;
		localStorage.setItem("balance", balance);
		updateBalance();
		resultEl.textContent = "+10!";

		circle.style.display = "none";

		setTimeout(() => {
			const rect = circle.getBoundingClientRect();
			x = Math.random() * (document.documentElement.clientWidth - rect.width);
			y = Math.random() * (document.documentElement.clientHeight - rect.height);
			circle.style.display = "block";
			circleActive = true;
		}, 5000);
	}

	circle.addEventListener("click", hitCircle);
	circle.addEventListener("touchstart", hitCircle);
</script>
</body>
</html>
